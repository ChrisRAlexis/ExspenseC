exports.id=127,exports.ids=[127],exports.modules={91184:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},90831:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,92481,23)),Promise.resolve().then(s.bind(s,76667)),Promise.resolve().then(s.bind(s,23001)),Promise.resolve().then(s.bind(s,31710))},11639:(e,r,s)=>{Promise.resolve().then(s.bind(s,42126))},34472:(e,r,s)=>{Promise.resolve().then(s.bind(s,51646))},51646:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var a=s(10326),t=s(8398);function l({children:e}){return a.jsx(t.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},children:e})}},42126:(e,r,s)=>{"use strict";s.d(r,{Providers:()=>l});var a=s(10326),t=s(77109);function l({children:e}){return a.jsx(t.SessionProvider,{children:e})}},76667:(e,r,s)=>{"use strict";s.d(r,{MobileNav:()=>x});var a=s(10326),t=s(90434),l=s(35047),i=s(77109),n=s(29798),o=s(95964),d=s(83855),c=s(30361),m=s(76464),h=s(51223);function x(){let e=(0,l.usePathname)(),{data:r}=(0,i.useSession)();if(!r)return null;let s="APPROVER"===r.user.role||"ADMIN"===r.user.role?[{href:"/dashboard",label:"Home",icon:n.Z},{href:"/expenses",label:"Expenses",icon:o.Z},{href:"/expenses/new",label:"Add",icon:d.Z,isCenter:!0},{href:"/approvals",label:"Approvals",icon:c.Z},{href:"/reports",label:"Reports",icon:m.Z}]:[{href:"/dashboard",label:"Home",icon:n.Z},{href:"/expenses/new",label:"Add",icon:d.Z,isCenter:!0},{href:"/expenses",label:"Expenses",icon:o.Z}];return a.jsx("nav",{className:"bottom-nav md:hidden animate-slide-up",children:a.jsx("div",{className:"flex items-center justify-evenly",children:s.map(r=>{let s=e===r.href||"/dashboard"!==r.href&&e.startsWith(r.href),l=r.icon;return r.isCenter?a.jsx(t.default,{href:r.href,className:"flex items-center justify-center -mt-8",children:a.jsx("div",{className:"flex items-center justify-center w-14 h-14 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-110 active:scale-95 transition-all duration-300",children:a.jsx(l,{className:"h-6 w-6 text-white"})})},r.href):(0,a.jsxs)(t.default,{href:r.href,className:(0,h.cn)("bottom-nav-item transition-all duration-200 hover:scale-110 active:scale-95",s&&"active"),children:[a.jsx(l,{className:(0,h.cn)("h-5 w-5 transition-colors duration-200",s&&"text-emerald-600")}),a.jsx("span",{className:"text-xs mt-1 font-medium",children:r.label})]},r.href)})})})}},23001:(e,r,s)=>{"use strict";s.d(r,{TopNav:()=>d});var a=s(10326),t=s(90434),l=s(35047),i=s(77109),n=s(83855),o=s(51223);function d(){let e=(0,l.usePathname)(),{data:r}=(0,i.useSession)();if(!r)return null;let s="ADMIN"===r.user.role,d="APPROVER"===r.user.role||s,c=[{href:"/dashboard",label:"Dashboard"},{href:"/expenses",label:"Expenses"},...d?[{href:"/approvals",label:"Approvals"}]:[],{href:"/expenses/new",label:"New Expense",isButton:!0},...d?[{href:"/reports",label:"Reports"}]:[],...s?[{href:"/admin/users",label:"Users"}]:[],...s?[{href:"/admin/workflows",label:"Workflows"}]:[]];return a.jsx("nav",{className:"flex items-center gap-1",children:c.map(r=>{let s=e===r.href||"/dashboard"!==r.href&&e.startsWith(r.href);return r.isButton?(0,a.jsxs)(t.default,{href:r.href,className:(0,o.cn)("flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 whitespace-nowrap ring-2 ring-emerald-500/60",s?"bg-white/60 text-emerald-700/90 shadow-sm":"text-emerald-600/90 hover:bg-emerald-50/40 hover:text-emerald-700"),children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{children:r.label})]},r.href):a.jsx(t.default,{href:r.href,className:(0,o.cn)("px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 whitespace-nowrap",s?"bg-white/60 text-emerald-700/90 shadow-sm":"text-slate-500/90 hover:bg-white/40 hover:text-emerald-700/80"),children:r.label},r.href)})})}},31710:(e,r,s)=>{"use strict";s.d(r,{UserSwitcher:()=>h});var a=s(10326),t=s(17577),l=s(77109),i=s(58038),n=s(47546),o=s(24061),d=s(79635),c=s(51223);let m=[{email:"sarah.chen@company.com",name:"Sarah Chen",role:"ADMIN",dept:"VP Finance",icon:i.Z},{email:"ap@company.com",name:"Accounts Payable",role:"ADMIN",dept:"Finance",icon:n.Z},{email:"mike.johnson@company.com",name:"Mike Johnson",role:"APPROVER",dept:"Finance Mgr",icon:o.Z},{email:"lisa.wong@company.com",name:"Lisa Wong",role:"APPROVER",dept:"Sales Mgr",icon:o.Z},{email:"james.miller@company.com",name:"James Miller",role:"EMPLOYEE",dept:"Sales",icon:d.Z},{email:"emma.davis@company.com",name:"Emma Davis",role:"EMPLOYEE",dept:"Engineering",icon:d.Z}];function h(){let{data:e}=(0,l.useSession)(),[r,s]=(0,t.useState)(!1),[i,n]=(0,t.useState)(null);async function d(e){n(e);try{await (0,l.signIn)("credentials",{email:e,password:"password123",redirect:!0,callbackUrl:"/dashboard"})}catch(e){console.error("Switch failed:",e)}finally{n(null)}}return m.find(r=>r.email===e?.user?.email),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{onClick:()=>s(!r),className:"flex items-center justify-center w-10 h-10 bg-slate-800/90 hover:bg-slate-700 text-white rounded-xl text-sm font-medium transition-all shadow-lg hover:shadow-xl backdrop-blur-sm",title:"Switch User (Dev)",children:a.jsx(o.Z,{className:"h-4 w-4"})}),r&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 bottom-full mb-2 w-72 bg-white/95 backdrop-blur-xl rounded-2xl shadow-xl border border-white/50 overflow-hidden z-50 animate-fade-in",children:[(0,a.jsxs)("div",{className:"p-3 bg-slate-50 border-b border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Quick Switch (Demo Mode)"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Password: password123"})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:m.map(r=>{let s=r.icon,t=r.email===e?.user?.email,l=i===r.email;return(0,a.jsxs)("button",{onClick:()=>!t&&d(r.email),disabled:t||!!i,className:(0,c.cn)("w-full flex items-center gap-3 px-4 py-3 text-left transition-colors",t?"bg-indigo-50":"hover:bg-slate-50",i&&"opacity-50"),children:[a.jsx("div",{className:(0,c.cn)("w-9 h-9 rounded-lg flex items-center justify-center","ADMIN"===r.role?"bg-purple-100 text-purple-600":"APPROVER"===r.role?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-600"),children:l?a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):a.jsx(s,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-slate-900 truncate",children:r.name}),t&&a.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full",children:"Current"})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[r.dept," â€¢ ",r.role]})]})]},r.email)})})]})]})]})}},51223:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l,p6:()=>n,xG:()=>i});var a=s(41135),t=s(31009);function l(...e){return(0,t.m6)((0,a.W)(e))}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function n(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}},53391:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var a=s(19510),t=s(58585),l=s(75571),i=s(95456),n=s(68570);let o=(0,n.createProxy)(String.raw`/Users/chrisalexis/travel-expense-crm/src/components/mobile-nav.tsx#MobileNav`),d=(0,n.createProxy)(String.raw`/Users/chrisalexis/travel-expense-crm/src/components/top-nav.tsx#TopNav`),c=(0,n.createProxy)(String.raw`/Users/chrisalexis/travel-expense-crm/src/components/user-switcher.tsx#UserSwitcher`);var m=s(17710),h=s(69013);async function x({children:e}){let r=await (0,l.getServerSession)(i.L);return r||(0,t.redirect)("/login"),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-[#ecfdf5] to-[#f0fdfa] relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-[500px] h-[500px] bg-gradient-to-br from-emerald-200/70 to-teal-300/50 rounded-full blur-3xl animate-float"}),a.jsx("div",{className:"absolute top-1/4 -left-32 w-[400px] h-[400px] bg-gradient-to-br from-green-200/60 to-emerald-300/40 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute bottom-32 right-1/4 w-[350px] h-[350px] bg-gradient-to-br from-teal-200/50 to-cyan-200/30 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute -bottom-20 left-1/4 w-[450px] h-[450px] bg-gradient-to-br from-emerald-100/70 to-green-200/50 rounded-full blur-3xl animate-float",style:{animationDelay:"3s"}}),a.jsx("div",{className:"absolute top-1/2 right-10 w-[300px] h-[300px] bg-gradient-to-br from-teal-100/40 to-emerald-200/30 rounded-full blur-3xl animate-pulse-soft"})]}),a.jsx("div",{className:"hidden md:block z-40 pt-6",children:a.jsx("div",{className:"px-6",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"bg-white/45 backdrop-blur-2xl rounded-2xl border border-white/50 shadow-[0_8px_32px_rgba(0,0,0,0.06)] p-2 animate-slide-down",children:(0,a.jsxs)("div",{className:"relative flex items-center justify-between h-14",children:[a.jsx("div",{className:"flex items-center gap-2 pl-2",children:a.jsx(m.default,{src:"/ledgra-logo.png",alt:"Ledgra",width:600,height:140,className:"h-28 w-auto object-contain",priority:!0})}),a.jsx("div",{className:"absolute left-1/2 -translate-x-1/2",children:a.jsx(d,{})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pr-2",children:[(0,a.jsxs)("div",{className:"text-right hidden lg:block",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600/90",children:r.user.name}),a.jsx("p",{className:"text-xs text-slate-400/80",children:r.user.role})]}),a.jsx("div",{className:"w-10 h-10 bg-emerald-100/60 rounded-full flex items-center justify-center border-2 border-emerald-200/50",children:a.jsx(h.Z,{className:"h-5 w-5 text-emerald-600/80"})})]})]})})})})}),a.jsx("div",{className:"fixed bottom-4 right-4 z-50 md:bottom-6 md:right-6",children:a.jsx(c,{})}),a.jsx("main",{className:"pb-28 md:pb-12",children:a.jsx("div",{className:"p-4 md:px-6 md:py-8 max-w-6xl mx-auto",children:e})}),a.jsx(o,{})]})}},98052:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/chrisalexis/travel-expense-crm/src/app/(dashboard)/template.tsx#default`)},15495:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,metadata:()=>n,viewport:()=>o});var a=s(19510),t=s(45317),l=s.n(t);s(5023);let i=(0,s(68570).createProxy)(String.raw`/Users/chrisalexis/travel-expense-crm/src/app/providers.tsx#Providers`),n={title:"Ledgra - Smart Expense Management",description:"Modern expense tracking with OCR receipt scanning and approval workflows",manifest:"/manifest.json",icons:{icon:"/ledgra-logo.png",apple:"/ledgra-logo.png"},appleWebApp:{capable:!0,statusBarStyle:"default",title:"Ledgra"}},o={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#059669"};function d({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:l().className,children:a.jsx(i,{children:e})})})}},95456:(e,r,s)=>{"use strict";s.d(r,{L:()=>n});var a=s(53797),t=s(98432),l=s.n(t),i=s(13538);let n={providers:[(0,a.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email and password are required");let r=await i._.user.findUnique({where:{email:e.email}});if(!r)throw Error("No user found with this email");if(!await l().compare(e.password,r.password))throw Error("Invalid password");return{id:r.id,email:r.email,name:r.name,role:r.role,department:r.department}}})],callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role,e.department=r.department),e),session:async({session:e,token:r})=>(e.user&&(e.user.id=r.id,e.user.role=r.role,e.user.department=r.department),e)},pages:{signIn:"/login"},session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET}},13538:(e,r,s)=>{"use strict";s.d(r,{_:()=>t});var a=s(53524);let t=globalThis.prisma??new a.PrismaClient},5023:()=>{}};