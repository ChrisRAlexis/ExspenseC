(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{45083:function(e,t,r){Promise.resolve().then(r.bind(r,42761))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",d),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:c,...d}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),c),...d})});return r.displayName="".concat(e),r}},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},71621:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(72972),a=r.n(s)},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},42761:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(57437),a=r(2265),n=r(27648),l=r(99376),i=r(79205);let c=(0,i.Z)("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),d=(0,i.Z)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),o=(0,i.Z)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),u=(0,i.Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var h=r(71621),x=r(99397);let m=(0,i.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var f=r(12381),p=r(40279),g=r(79820),w=r(69174),v=r(93448);let b={TRAVEL:c,MEALS:d,LODGING:o,TRANSPORTATION:u,OTHER:h.Z},N={DRAFT:"draft",PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",CHANGES_REQUESTED:"changes"};function j(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[d,o]=(0,a.useState)(""),[u,j]=(0,a.useState)("ALL");async function y(){try{let e=new URLSearchParams;"ALL"!==u&&e.set("status",u);let t=await fetch("/api/expenses?".concat(e)),s=await t.json();r(s.expenses||[])}catch(e){console.error("Failed to fetch expenses:",e)}finally{c(!1)}}(0,a.useEffect)(()=>{y()},[u]);let k=t.filter(e=>{var t;return e.title.toLowerCase().includes(d.toLowerCase())||(null===(t=e.tripName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-emerald-800/80",children:"My Expenses"}),(0,s.jsx)(n.default,{href:"/expenses/new",children:(0,s.jsxs)(f.z,{children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"New Expense"]})})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(p.I,{placeholder:"Search expenses...",value:d,onChange:e=>o(e.target.value),icon:(0,s.jsx)(m,{className:"h-4 w-4"})})}),(0,s.jsxs)("select",{value:u,onChange:e=>j(e.target.value),className:"px-4 py-2.5 border border-white/50 rounded-xl bg-white/40 backdrop-blur-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 transition-all duration-300",children:[(0,s.jsx)("option",{value:"ALL",children:"All Status"}),(0,s.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,s.jsx)("option",{value:"PENDING",children:"Pending"}),(0,s.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,s.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),i?(0,s.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,s.jsx)(g.Card,{className:"animate-pulse",children:(0,s.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/60 rounded-xl"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-4 bg-white/60 rounded-lg w-1/3 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-white/60 rounded-lg w-1/4"})]}),(0,s.jsx)("div",{className:"h-6 bg-white/60 rounded-lg w-20"})]})},e))}):0===k.length?(0,s.jsx)(g.Card,{children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-14 h-14 bg-white/60 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/50",children:(0,s.jsx)(h.Z,{className:"h-6 w-6 text-slate-400"})}),(0,s.jsx)("p",{className:"text-slate-600/90 font-medium",children:d?"No expenses match your search":"No expenses yet"}),(0,s.jsx)("p",{className:"text-slate-400/80 text-sm mt-1",children:"Create your first expense to get started"}),(0,s.jsx)(n.default,{href:"/expenses/new",children:(0,s.jsxs)(f.z,{className:"mt-4 bg-emerald-700 hover:bg-emerald-800",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Create Expense"]})})]})}):(0,s.jsx)("div",{className:"space-y-3",children:k.map(t=>{let r=b[t.category]||h.Z;return(0,s.jsx)(g.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e.push("/expenses/".concat(t.id)),children:(0,s.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-2.5 bg-emerald-100/50 rounded-xl shrink-0",children:(0,s.jsx)(r,{className:"h-5 w-5 text-emerald-600/80"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-slate-700/90 truncate",children:t.title}),t.receipts.length>0&&(0,s.jsxs)("span",{className:"text-xs text-slate-400",children:[t.receipts.length," receipt",t.receipts.length>1?"s":""]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400/80",children:[(0,s.jsx)("span",{children:(0,v.p6)(t.createdAt)}),t.tripName&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"\xb7"}),(0,s.jsx)("span",{className:"truncate",children:t.tripName})]})]})]}),(0,s.jsxs)("div",{className:"text-right shrink-0",children:[(0,s.jsx)("p",{className:"font-semibold text-slate-600/90",children:(0,v.xG)(t.totalAmount)}),(0,s.jsx)(w.Badge,{variant:N[t.status],children:t.status.replace("_"," ")})]})]})},t.id)})})]})}},69174:function(e,t,r){"use strict";r.d(t,{Badge:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="default",...l}=e;return(0,s.jsx)("span",{ref:t,className:(0,n.cn)("badge",{default:"bg-slate-100 text-slate-700",draft:"bg-slate-100 text-slate-700",pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",changes:"bg-orange-100 text-orange-700"}[a],r),...l})});l.displayName="Badge"},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="primary",size:l="md",loading:i,disabled:c,children:d,...o}=e;return(0,s.jsxs)("button",{ref:t,className:(0,n.cn)("\n      inline-flex items-center justify-center font-semibold rounded-xl\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-2\n      disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n      active:scale-[0.98]\n      touch-target\n    ",{primary:"\n        bg-emerald-700 text-white\n        hover:bg-emerald-800 hover:shadow-lg hover:shadow-emerald-500/25\n        focus:ring-emerald-500\n      ",secondary:"\n        bg-white/40 backdrop-blur-xl text-slate-700 border border-white/50\n        hover:bg-white/60 hover:text-slate-900\n        focus:ring-emerald-500\n      ",outline:"\n        border-2 border-white/50 text-slate-700 bg-white/40 backdrop-blur-xl\n        hover:bg-white/60 hover:border-white/60\n        focus:ring-emerald-500\n      ",ghost:"\n        text-slate-600\n        hover:bg-white/50 hover:text-slate-900\n        focus:ring-emerald-500\n      ",danger:"\n        bg-red-600 text-white\n        hover:bg-red-700 hover:shadow-lg hover:shadow-red-500/25\n        focus:ring-red-500\n      "}[a],{sm:"text-sm px-3.5 py-2",md:"text-sm px-5 py-2.5",lg:"text-base px-6 py-3"}[l],r),disabled:c||i,...o,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]})});l.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Card:function(){return l},CardContent:function(){return o},CardHeader:function(){return i},CardTitle:function(){return c},S:function(){return d}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="default",...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-3xl border p-5 transition-all duration-300",{default:"bg-white/40 backdrop-blur-2xl border-white/50 shadow-[0_8px_32px_rgba(0,0,0,0.06)] hover:bg-white/50 hover:shadow-[0_8px_32px_rgba(0,0,0,0.1)]",solid:"bg-white/50 backdrop-blur-2xl border-white/60 shadow-[0_8px_32px_rgba(0,0,0,0.08)]",gradient:"bg-gradient-to-br from-white/50 via-white/40 to-white/30 backdrop-blur-2xl border-white/50 shadow-[0_8px_32px_rgba(0,0,0,0.06)]"}[a],r),...l})});l.displayName="Card";let i=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 pb-5",r),...a})});i.displayName="CardHeader";let c=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold text-slate-900",r),...a})});c.displayName="CardTitle";let d=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-500",r),...a})});d.displayName="CardDescription";let o=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("",r),...a})});o.displayName="CardContent",(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center pt-5",r),...a})}).displayName="CardFooter"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,label:a,error:l,icon:i,type:c="text",...d}=e;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a}),(0,s.jsxs)("div",{className:"relative",children:[i&&(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:i}),(0,s.jsx)("input",{type:c,ref:t,className:(0,n.cn)("w-full rounded-xl border bg-white/40 backdrop-blur-xl px-4 py-3 text-sm","border-white/50 placeholder:text-slate-400","focus:bg-white/60 focus:border-emerald-300 focus:outline-none focus:ring-4 focus:ring-emerald-500/10","disabled:bg-white/20 disabled:text-slate-400 disabled:cursor-not-allowed","transition-all duration-300 touch-target",i&&"pl-11",l&&"border-red-300 focus:border-red-400 focus:ring-red-500/10",r),...d})]}),l&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-red-500",children:l})]})});l.displayName="Input"},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},p6:function(){return i},xG:function(){return l}});var s=r(61994),a=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function i(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}}},function(e){e.O(0,[137,972,971,117,744],function(){return e(e.s=45083)}),_N_E=e.O()}]);