(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{9177:function(e,t,r){Promise.resolve().then(r.bind(r,15587))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...x}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:d?24*Number(i)/Number(a):i,className:n("lucide",o),...x},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:d,...o}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),d),...o})});return r.displayName="".concat(e),r}},40875:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},88906:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},92369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},15587:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(57437),a=r(2265),n=r(80605),l=r(99376),i=r(12381),d=r(40279),o=r(15291),c=r(79820),u=r(69174),x=r(92369),m=r(89345),f=r(88906);let h=(0,r(79205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),p=[{value:"",label:"Not assigned"},{value:"engineering",label:"Engineering"},{value:"sales",label:"Sales"},{value:"marketing",label:"Marketing"},{value:"operations",label:"Operations"},{value:"finance",label:"Finance"},{value:"hr",label:"Human Resources"},{value:"other",label:"Other"}];function g(){var e,t,r;let{data:g,update:b}=(0,n.useSession)();(0,l.useRouter)();let[v,w]=(0,a.useState)(!1),[N,j]=(0,a.useState)((null==g?void 0:null===(e=g.user)||void 0===e?void 0:e.name)||""),[y,C]=(0,a.useState)((null==g?void 0:null===(t=g.user)||void 0===t?void 0:t.department)||""),[k,R]=(0,a.useState)(!1);async function _(){w(!0);try{(await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:N,department:y})})).ok&&(await b({name:N,department:y}),R(!0),setTimeout(()=>R(!1),3e3))}catch(e){console.error("Failed to update profile:",e)}finally{w(!1)}}return g?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Settings"}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)(c.CardTitle,{className:"text-base",children:"Profile"})}),(0,s.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b border-slate-200",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl font-bold text-primary-700",children:null===(r=g.user.name)||void 0===r?void 0:r.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-slate-900",children:g.user.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(u.Badge,{variant:"ADMIN"===g.user.role?"approved":"APPROVER"===g.user.role?"pending":"default",children:g.user.role}),g.user.department&&(0,s.jsx)("span",{className:"text-sm text-slate-500",children:g.user.department})]})]})]}),(0,s.jsx)(d.I,{label:"Full Name",value:N,onChange:e=>j(e.target.value),icon:(0,s.jsx)(x.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 rounded-lg",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 text-slate-400"}),(0,s.jsx)("span",{className:"text-slate-600",children:g.user.email})]}),(0,s.jsx)(o.P,{label:"Department",options:p,value:y,onChange:e=>C(e.target.value)}),(0,s.jsx)(i.z,{onClick:_,loading:v,className:"w-full",children:k?"Saved!":"Save Changes"})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)(c.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),"Permissions"]})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:["ADMIN"===g.user.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can submit expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can approve all expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can manage users"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can configure workflows"]})]}),"APPROVER"===g.user.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can submit expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can approve assigned expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),"Cannot manage users"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),"Cannot configure workflows"]})]}),"EMPLOYEE"===g.user.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Can submit expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),"Cannot approve expenses"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),"Cannot manage users"]})]})]})})]}),(0,s.jsx)(c.Card,{children:(0,s.jsx)(c.CardContent,{className:"py-4",children:(0,s.jsxs)(i.z,{variant:"outline",onClick:()=>(0,n.signOut)({callbackUrl:"/login"}),className:"w-full text-red-600 hover:bg-red-50 border-red-200",children:[(0,s.jsx)(h,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]}):null}},69174:function(e,t,r){"use strict";r.d(t,{Badge:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="default",...l}=e;return(0,s.jsx)("span",{ref:t,className:(0,n.cn)("badge",{default:"bg-slate-100 text-slate-700",draft:"bg-slate-100 text-slate-700",pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",changes:"bg-orange-100 text-orange-700"}[a],r),...l})});l.displayName="Badge"},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="primary",size:l="md",loading:i,disabled:d,children:o,...c}=e;return(0,s.jsxs)("button",{ref:t,className:(0,n.cn)("\n      inline-flex items-center justify-center font-semibold rounded-xl\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-2\n      disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n      active:scale-[0.98]\n      touch-target\n    ",{primary:"\n        bg-emerald-700 text-white\n        hover:bg-emerald-800 hover:shadow-lg hover:shadow-emerald-500/25\n        focus:ring-emerald-500\n      ",secondary:"\n        bg-white/40 backdrop-blur-xl text-slate-700 border border-white/50\n        hover:bg-white/60 hover:text-slate-900\n        focus:ring-emerald-500\n      ",outline:"\n        border-2 border-white/50 text-slate-700 bg-white/40 backdrop-blur-xl\n        hover:bg-white/60 hover:border-white/60\n        focus:ring-emerald-500\n      ",ghost:"\n        text-slate-600\n        hover:bg-white/50 hover:text-slate-900\n        focus:ring-emerald-500\n      ",danger:"\n        bg-red-600 text-white\n        hover:bg-red-700 hover:shadow-lg hover:shadow-red-500/25\n        focus:ring-red-500\n      "}[a],{sm:"text-sm px-3.5 py-2",md:"text-sm px-5 py-2.5",lg:"text-base px-6 py-3"}[l],r),disabled:d||i,...c,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})});l.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Card:function(){return l},CardContent:function(){return c},CardHeader:function(){return i},CardTitle:function(){return d},S:function(){return o}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="default",...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-3xl border p-5 transition-all duration-300",{default:"bg-white/40 backdrop-blur-2xl border-white/50 shadow-[0_8px_32px_rgba(0,0,0,0.06)] hover:bg-white/50 hover:shadow-[0_8px_32px_rgba(0,0,0,0.1)]",solid:"bg-white/50 backdrop-blur-2xl border-white/60 shadow-[0_8px_32px_rgba(0,0,0,0.08)]",gradient:"bg-gradient-to-br from-white/50 via-white/40 to-white/30 backdrop-blur-2xl border-white/50 shadow-[0_8px_32px_rgba(0,0,0,0.06)]"}[a],r),...l})});l.displayName="Card";let i=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 pb-5",r),...a})});i.displayName="CardHeader";let d=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold text-slate-900",r),...a})});d.displayName="CardTitle";let o=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-500",r),...a})});o.displayName="CardDescription";let c=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("",r),...a})});c.displayName="CardContent",(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center pt-5",r),...a})}).displayName="CardFooter"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(57437),a=r(2265),n=r(93448);let l=(0,a.forwardRef)((e,t)=>{let{className:r,label:a,error:l,icon:i,type:d="text",...o}=e;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:a}),(0,s.jsxs)("div",{className:"relative",children:[i&&(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:i}),(0,s.jsx)("input",{type:d,ref:t,className:(0,n.cn)("w-full rounded-xl border bg-white/40 backdrop-blur-xl px-4 py-3 text-sm","border-white/50 placeholder:text-slate-400","focus:bg-white/60 focus:border-emerald-300 focus:outline-none focus:ring-4 focus:ring-emerald-500/10","disabled:bg-white/20 disabled:text-slate-400 disabled:cursor-not-allowed","transition-all duration-300 touch-target",i&&"pl-11",l&&"border-red-300 focus:border-red-400 focus:ring-red-500/10",r),...o})]}),l&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-red-500",children:l})]})});l.displayName="Input"},15291:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var s=r(57437),a=r(2265),n=r(93448),l=r(40875);let i=(0,a.forwardRef)((e,t)=>{let{className:r,label:a,error:i,options:d,...o}=e;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:a}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("select",{ref:t,className:(0,n.cn)("w-full rounded-xl border border-white/50 bg-white/40 backdrop-blur-xl px-4 py-2.5 text-sm appearance-none","focus:bg-white/60 focus:border-emerald-300 focus:outline-none focus:ring-2 focus:ring-emerald-500/20","disabled:bg-white/20 disabled:text-slate-500 disabled:cursor-not-allowed","transition-all duration-300 touch-target pr-10",i&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",r),...o,children:d.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)(l.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"})]}),i&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});i.displayName="Select"},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},p6:function(){return i},xG:function(){return l}});var s=r(61994),a=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function i(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}}},function(e){e.O(0,[137,605,971,117,744],function(){return e(e.s=9177)}),_N_E=e.O()}]);